{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\3-may- node excerise\\\\Server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\3-may- node excerise\\\\Server\",\"filename\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\3-may- node excerise\\\\Server\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\3-may- node excerise\\\\Server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// connecting to the local host\nvar db = _mysql[\"default\"].createConnection({\n  host: 'localhost',\n  port: 3306,\n  user: 'root',\n  password: '',\n  database: 'products'\n});\n\nvar server = (0, _express[\"default\"])();\nserver.use((0, _cors[\"default\"])());\ndb.connect(function (error) {\n  if (error) console.log('Sorry cannot connect to db :', error);else console.log('Connected to mysql db');\n}); // server.get('/productsapi',(req,res)=>{\n// Select from the product table\n//stored procedures for allproducts\n//   let allproductsSP = \"SELECT * FROM product\"\n//   let query = db.query(allproductsSP,(error,data,fields) => {\n//     if(error){\n//       res.json({ ErrorMessage:error })\n//     }\n//     else{\n//     res.json(data);\n//   }\n//   })\n// })\n\nserver.get('/productssp', function (req, res) {\n  var allproductSP = \"CALL `All_products`()\"; // let  allproductsSP  = \"SELECT * FROM All_products\"\n\n  db.query(allproductSP, function (error, data, fields) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      }); // console.log(error);\n    } else {\n      res.json(data[0]);\n    }\n  });\n});\nserver.listen(4600, function () {\n  console.log('Server is successfully running on port 4600');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsIm15c3FsIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwb3J0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJzZXJ2ZXIiLCJ1c2UiLCJjb25uZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwicmVxIiwicmVzIiwiYWxscHJvZHVjdFNQIiwicXVlcnkiLCJkYXRhIiwiZmllbGRzIiwianNvbiIsIkVycm9yTWVzc2FnZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiRDpcXFZhbkFydCBBc3NpZ25tZW50c1xcSm9oblxccHJhY3RpY2UgY2xhc3MgYXNzaWdubWVudHNcXDMtbWF5LSBub2RlIGV4Y2VyaXNlXFxTZXJ2ZXJcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwnO1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcclxuXHJcbi8vIGNvbm5lY3RpbmcgdG8gdGhlIGxvY2FsIGhvc3RcclxuY29uc3QgZGIgPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uICh7XHJcbiAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgcG9ydDogMzMwNixcclxuICB1c2VyOidyb290JyxcclxuICBwYXNzd29yZDonJyxcclxuICBkYXRhYmFzZToncHJvZHVjdHMnXHJcblxyXG59KTtcclxuXHJcbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcclxuc2VydmVyLnVzZShjb3JzKCkpO1xyXG5cclxuZGIuY29ubmVjdChlcnJvciA9PntcclxuICAgIGlmKGVycm9yKVxyXG4gICAgY29uc29sZS5sb2coJ1NvcnJ5IGNhbm5vdCBjb25uZWN0IHRvIGRiIDonLCBlcnJvcik7XHJcbiAgICBlbHNlXHJcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIG15c3FsIGRiJyk7XHJcbiAgfSlcclxuICBcclxuICAvLyBzZXJ2ZXIuZ2V0KCcvcHJvZHVjdHNhcGknLChyZXEscmVzKT0+e1xyXG4gIFxyXG4gICAgLy8gU2VsZWN0IGZyb20gdGhlIHByb2R1Y3QgdGFibGVcclxuICAgIC8vc3RvcmVkIHByb2NlZHVyZXMgZm9yIGFsbHByb2R1Y3RzXHJcbiAgLy8gICBsZXQgYWxscHJvZHVjdHNTUCA9IFwiU0VMRUNUICogRlJPTSBwcm9kdWN0XCJcclxuICAvLyAgIGxldCBxdWVyeSA9IGRiLnF1ZXJ5KGFsbHByb2R1Y3RzU1AsKGVycm9yLGRhdGEsZmllbGRzKSA9PiB7XHJcbiAgICAgIFxyXG4gIC8vICAgICBpZihlcnJvcil7XHJcbiAgLy8gICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6ZXJyb3IgfSlcclxuICAgICAgICBcclxuICAvLyAgICAgfVxyXG4gIC8vICAgICBlbHNle1xyXG4gICAgIFxyXG4gIC8vICAgICByZXMuanNvbihkYXRhKTtcclxuICAvLyAgIH1cclxuICBcclxuICAvLyAgIH0pXHJcbiAgLy8gfSlcclxuICBcclxuICBzZXJ2ZXIuZ2V0KCcvcHJvZHVjdHNzcCcsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGFsbHByb2R1Y3RTUCA9IFwiQ0FMTCBgQWxsX3Byb2R1Y3RzYCgpXCI7XHJcbiAgICAvLyBsZXQgIGFsbHByb2R1Y3RzU1AgID0gXCJTRUxFQ1QgKiBGUk9NIEFsbF9wcm9kdWN0c1wiXHJcbiAgICBkYi5xdWVyeShhbGxwcm9kdWN0U1AsIChlcnJvciwgZGF0YSwgZmllbGRzKSA9PiB7XHJcbiAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLmpzb24oZGF0YVswXSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIHNlcnZlci5saXN0ZW4oNDYwMCwgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIGlzIHN1Y2Nlc3NmdWxseSBydW5uaW5nIG9uIHBvcnQgNDYwMCcpO1xyXG4gICAgXHJcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxFQUFFLEdBQUdDLGtCQUFNQyxnQkFBTixDQUF3QjtFQUNqQ0MsSUFBSSxFQUFFLFdBRDJCO0VBRWpDQyxJQUFJLEVBQUUsSUFGMkI7RUFHakNDLElBQUksRUFBQyxNQUg0QjtFQUlqQ0MsUUFBUSxFQUFDLEVBSndCO0VBS2pDQyxRQUFRLEVBQUM7QUFMd0IsQ0FBeEIsQ0FBWDs7QUFTQSxJQUFNQyxNQUFNLEdBQUcsMEJBQWY7QUFDQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsdUJBQVg7QUFFQVQsRUFBRSxDQUFDVSxPQUFILENBQVcsVUFBQUMsS0FBSyxFQUFHO0VBQ2YsSUFBR0EsS0FBSCxFQUNBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSw4QkFBWixFQUE0Q0YsS0FBNUMsRUFEQSxLQUdBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWjtBQUNELENBTEgsRSxDQU9FO0FBRUU7QUFDQTtBQUNGO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQUVBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxhQUFYLEVBQTBCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0VBQ3RDLElBQUlDLFlBQVksR0FBRyx1QkFBbkIsQ0FEc0MsQ0FFdEM7O0VBQ0FqQixFQUFFLENBQUNrQixLQUFILENBQVNELFlBQVQsRUFBdUIsVUFBQ04sS0FBRCxFQUFRUSxJQUFSLEVBQWNDLE1BQWQsRUFBeUI7SUFDOUMsSUFBR1QsS0FBSCxFQUFTO01BQ1BLLEdBQUcsQ0FBQ0ssSUFBSixDQUFTO1FBQUVDLFlBQVksRUFBRVg7TUFBaEIsQ0FBVCxFQURPLENBRVA7SUFDRCxDQUhELE1BSUk7TUFDRkssR0FBRyxDQUFDSyxJQUFKLENBQVNGLElBQUksQ0FBQyxDQUFELENBQWI7SUFDRDtFQUVGLENBVEQ7QUFVRCxDQWJEO0FBZUFYLE1BQU0sQ0FBQ2UsTUFBUCxDQUFjLElBQWQsRUFBb0IsWUFBVztFQUM3QlgsT0FBTyxDQUFDQyxHQUFSLENBQVksNkNBQVo7QUFFSCxDQUhDIn0=","map":{"version":3,"names":["db","mysql","createConnection","host","port","user","password","database","server","use","connect","error","console","log","get","req","res","allproductSP","query","data","fields","json","ErrorMessage","listen"],"sourceRoot":"D:\\VanArt Assignments\\John\\practice class assignments\\3-may- node excerise\\Server\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport mysql from 'mysql';\r\nimport cors from 'cors';\r\n\r\n// connecting to the local host\r\nconst db = mysql.createConnection ({\r\n  host: 'localhost',\r\n  port: 3306,\r\n  user:'root',\r\n  password:'',\r\n  database:'products'\r\n\r\n});\r\n\r\nconst server = express();\r\nserver.use(cors());\r\n\r\ndb.connect(error =>{\r\n    if(error)\r\n    console.log('Sorry cannot connect to db :', error);\r\n    else\r\n    console.log('Connected to mysql db');\r\n  })\r\n  \r\n  // server.get('/productsapi',(req,res)=>{\r\n  \r\n    // Select from the product table\r\n    //stored procedures for allproducts\r\n  //   let allproductsSP = \"SELECT * FROM product\"\r\n  //   let query = db.query(allproductsSP,(error,data,fields) => {\r\n      \r\n  //     if(error){\r\n  //       res.json({ ErrorMessage:error })\r\n        \r\n  //     }\r\n  //     else{\r\n     \r\n  //     res.json(data);\r\n  //   }\r\n  \r\n  //   })\r\n  // })\r\n  \r\n  server.get('/productssp', (req, res) => {\r\n    let allproductSP = \"CALL `All_products`()\";\r\n    // let  allproductsSP  = \"SELECT * FROM All_products\"\r\n    db.query(allproductSP, (error, data, fields) => {\r\n      if(error){\r\n        res.json({ ErrorMessage: error });\r\n        // console.log(error);\r\n      }\r\n      else{\r\n        res.json(data[0]);\r\n      }\r\n      \r\n    })\r\n  })\r\n\r\n  server.listen(4600, function() {\r\n    console.log('Server is successfully running on port 4600');\r\n    \r\n})"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,EAAE,GAAGC,kBAAMC,gBAAN,CAAwB;EACjCC,IAAI,EAAE,WAD2B;EAEjCC,IAAI,EAAE,IAF2B;EAGjCC,IAAI,EAAC,MAH4B;EAIjCC,QAAQ,EAAC,EAJwB;EAKjCC,QAAQ,EAAC;AALwB,CAAxB,CAAX;;AASA,IAAMC,MAAM,GAAG,0BAAf;AACAA,MAAM,CAACC,GAAP,CAAW,uBAAX;AAEAT,EAAE,CAACU,OAAH,CAAW,UAAAC,KAAK,EAAG;EACf,IAAGA,KAAH,EACAC,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,KAA5C,EADA,KAGAC,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,CALH,E,CAOE;AAEE;AACA;AACF;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;;AAEAL,MAAM,CAACM,GAAP,CAAW,aAAX,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;EACtC,IAAIC,YAAY,GAAG,uBAAnB,CADsC,CAEtC;;EACAjB,EAAE,CAACkB,KAAH,CAASD,YAAT,EAAuB,UAACN,KAAD,EAAQQ,IAAR,EAAcC,MAAd,EAAyB;IAC9C,IAAGT,KAAH,EAAS;MACPK,GAAG,CAACK,IAAJ,CAAS;QAAEC,YAAY,EAAEX;MAAhB,CAAT,EADO,CAEP;IACD,CAHD,MAII;MACFK,GAAG,CAACK,IAAJ,CAASF,IAAI,CAAC,CAAD,CAAb;IACD;EAEF,CATD;AAUD,CAbD;AAeAX,MAAM,CAACe,MAAP,CAAc,IAAd,EAAoB,YAAW;EAC7BX,OAAO,CAACC,GAAR,CAAY,6CAAZ;AAEH,CAHC"}},"mtime":1652288249231},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\VanArt Assignments\\\\Presentation Week 8 -13-may\\\\Server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\VanArt Assignments\\\\Presentation Week 8 -13-may\\\\Server\",\"filename\":\"D:\\\\VanArt Assignments\\\\Presentation Week 8 -13-may\\\\Server\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\VanArt Assignments\\\\Presentation Week 8 -13-may\\\\Server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// connecting to the local host\nvar db = _mysql[\"default\"].createConnection({\n  host: 'localhost',\n  port: 3306,\n  user: 'root',\n  password: '',\n  database: 'products'\n});\n\nvar server = (0, _express[\"default\"])();\nserver.use((0, _cors[\"default\"])());\nserver.use(_express[\"default\"].json());\ndb.connect(function (error) {\n  if (error) console.log('Sorry cannot connect to db :', error);else console.log('Connected to mysql db');\n}); // server.get('/productsapi',(req,res)=>{\n// Select from the product table\n//stored procedures for allproducts\n//   let allproductsSP = \"SELECT * FROM product\"\n//   let query = db.query(allproductsSP,(error,data,fields) => {\n//     if(error){\n//       res.json({ ErrorMessage:error })\n//     }\n//     else{\n//     res.json(data);\n//   }\n//   })\n// })\n//display all products\n\nserver.get('/productssp', function (req, res) {\n  var allproductSP = \"CALL `All_products`()\"; // let  allproductsSP  = \"SELECT * FROM All_products\"\n\n  db.query(allproductSP, function (error, data, fields) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      }); // console.log(error);\n    } else {\n      res.json(data[0]);\n    }\n  });\n}); //productbyID\n\nserver.get(\"/productssp/:id\", function (req, res) {\n  var ByID = \"CALL `All_products`()\";\n  var productbyid = req.params.ID;\n  db.query(ByID, function (error, data) {\n    if (error) {\n      console.log(error);\n    } else {\n      res.json(data[0].find(function (x) {\n        return x.ID == productbyid;\n      }));\n    }\n  });\n}); //admin all products\n\nserver.get('/admin', function (req, res) {\n  var allproducts = \"CALL `Alladminproduct`()\";\n  db.query(allproducts, function (error, data, fields) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      }); // console.log(error);\n    } else {\n      res.json(data[0]);\n    }\n  });\n}); // LOGIN\n\nserver.post('/login', function (req, res) {\n  var email = req.body.email;\n  var password = req.body.password;\n  var loginQuery = \"CALL `login`(?,?)\";\n  db.query(loginQuery, [email, password], function (error, data) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          data: data[0],\n          login: false,\n          message: \"Sorry, you have provided wrong credentials\"\n        });\n      } else {\n        res.json({\n          ID: data[0].ID,\n          email: data[0].email,\n          data: data[0],\n          login: true,\n          message: \"Login successful\"\n        }); // create the Auth Key\n      }\n    }\n  });\n}); // editproduct\n\nserver.put('/editproduct', function (req, res) {\n  var description = req.body.description;\n  var ID = req.body.ID;\n  var price = req.body.price;\n  var productTitle = req.body.productTitle;\n  var stockAvailability = req.body.stockAvailability;\n  var query = \"CALL `editproduct`(?, ?, ?,?)\";\n  db.query(query, [description, ID, price, productTitle, stockAvailability], function (error, data) {\n    if (error) {\n      res.json({\n        edit: false,\n        message: error\n      });\n    } else {\n      res.json({\n        edit: true,\n        message: \"Product successfully edited\"\n      });\n    }\n  });\n}); //display edited product\n\nserver.put('/editeddisplay', function (req, res) {\n  var ID = req.body.ID;\n  var display = req.body.display;\n  var query = \"CALL `editeddisplay`(?,?)\";\n  db.query(query, [ID, display], function (error, data) {\n    if (error) {\n      res.json({\n        editeddisplay: false,\n        message: error\n      });\n    } else {\n      res.json({\n        data: data[0],\n        editeddisplay: true,\n        message: \"Edited product successfully displayed\"\n      });\n    }\n  });\n}); // Addnewproduct\n\nserver.post(\"/addnewproduct\", function (req, res) {\n  var description = req.body.description;\n  var ID = req.body.ID;\n  var price = req.body.productTitle;\n  var productTitle = req.body.price;\n  var stockAvailability = req.body.stockAvailability;\n  var query = 'CALL `addoneproduct`(?, ?, ?, ?)';\n  db.query(query, [description, ID, price, productTitle, stockAvailability], function (error, data) {\n    if (error) {\n      res.json({\n        insert: false,\n        message: error\n      });\n    } else {\n      res.json({\n        data: data[0],\n        insert: true,\n        message: \"New product successfully added.\"\n      });\n    }\n  });\n}); //productby id\n\nserver.get('/product/:id', function (req, res) {\n  var ID = req.params.ID;\n  var getbyID = \"CALL `getProductbyID`(?)\";\n  db.query(getbyID, [ID], function (error, data) {\n    if (error) {\n      res.json({\n        ID: false,\n        message: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          ID: false,\n          message: \"No such product ID exist\"\n        });\n      } else {\n        res.json({\n          ID: true,\n          message: \"success\",\n          productData: data[0]\n        });\n      }\n    }\n  });\n}); //delete product\n\nserver[\"delete\"]('/deleteproduct/:id', function (req, res) {\n  var ID = req.params.ID;\n  var deleteID = \"CALL `deletebyID`(?)\";\n  db.query(deleteID, [ID], function (error, data) {\n    if (error) {\n      res.json({\n        deletebyID: false,\n        message: error\n      });\n    } else {\n      res.json({\n        deletebyID: true,\n        message: \"Product deleted successfully\"\n      });\n    }\n  });\n});\nserver.get('/onlineproducts', function (req, res) {\n  var online = \"CALL `diplayonline`()\";\n  db.query(online, function (error, data) {\n    if (error) {\n      res.json({\n        ID: false,\n        message: error\n      });\n    } else {\n      res.json(data[0]);\n    }\n  });\n});\nserver.listen(4600, function () {\n  console.log('Server is successfully running on port 4600');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsIm15c3FsIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwb3J0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJzZXJ2ZXIiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCJyZXEiLCJyZXMiLCJhbGxwcm9kdWN0U1AiLCJxdWVyeSIsImRhdGEiLCJmaWVsZHMiLCJFcnJvck1lc3NhZ2UiLCJCeUlEIiwicHJvZHVjdGJ5aWQiLCJwYXJhbXMiLCJJRCIsImZpbmQiLCJ4IiwiYWxscHJvZHVjdHMiLCJwb3N0IiwiZW1haWwiLCJib2R5IiwibG9naW5RdWVyeSIsImxlbmd0aCIsImxvZ2luIiwibWVzc2FnZSIsInB1dCIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJwcm9kdWN0VGl0bGUiLCJzdG9ja0F2YWlsYWJpbGl0eSIsImVkaXQiLCJkaXNwbGF5IiwiZWRpdGVkZGlzcGxheSIsImluc2VydCIsImdldGJ5SUQiLCJwcm9kdWN0RGF0YSIsImRlbGV0ZUlEIiwiZGVsZXRlYnlJRCIsIm9ubGluZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiRDpcXFZhbkFydCBBc3NpZ25tZW50c1xcUHJlc2VudGF0aW9uIFdlZWsgOCAtMTMtbWF5XFxTZXJ2ZXJcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwnO1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcclxuXHJcbi8vIGNvbm5lY3RpbmcgdG8gdGhlIGxvY2FsIGhvc3RcclxuY29uc3QgZGIgPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uICh7XHJcbiAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgcG9ydDogMzMwNixcclxuICB1c2VyOidyb290JyxcclxuICBwYXNzd29yZDonJyxcclxuICBkYXRhYmFzZToncHJvZHVjdHMnXHJcblxyXG59KTtcclxuXHJcbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcclxuc2VydmVyLnVzZShjb3JzKCkpO1xyXG5zZXJ2ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcclxuXHJcbmRiLmNvbm5lY3QoZXJyb3IgPT57XHJcbiAgICBpZihlcnJvcilcclxuICAgIGNvbnNvbGUubG9nKCdTb3JyeSBjYW5ub3QgY29ubmVjdCB0byBkYiA6JywgZXJyb3IpO1xyXG4gICAgZWxzZVxyXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBteXNxbCBkYicpO1xyXG4gIH0pXHJcbiAgXHJcbiAgLy8gc2VydmVyLmdldCgnL3Byb2R1Y3RzYXBpJywocmVxLHJlcyk9PntcclxuICBcclxuICAgIC8vIFNlbGVjdCBmcm9tIHRoZSBwcm9kdWN0IHRhYmxlXHJcbiAgICAvL3N0b3JlZCBwcm9jZWR1cmVzIGZvciBhbGxwcm9kdWN0c1xyXG4gIC8vICAgbGV0IGFsbHByb2R1Y3RzU1AgPSBcIlNFTEVDVCAqIEZST00gcHJvZHVjdFwiXHJcbiAgLy8gICBsZXQgcXVlcnkgPSBkYi5xdWVyeShhbGxwcm9kdWN0c1NQLChlcnJvcixkYXRhLGZpZWxkcykgPT4ge1xyXG4gICAgICBcclxuICAvLyAgICAgaWYoZXJyb3Ipe1xyXG4gIC8vICAgICAgIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOmVycm9yIH0pXHJcbiAgICAgICAgXHJcbiAgLy8gICAgIH1cclxuICAvLyAgICAgZWxzZXtcclxuICAgICBcclxuICAvLyAgICAgcmVzLmpzb24oZGF0YSk7XHJcbiAgLy8gICB9XHJcbiAgXHJcbiAgLy8gICB9KVxyXG4gIC8vIH0pXHJcbiAgXHJcbiAgLy9kaXNwbGF5IGFsbCBwcm9kdWN0c1xyXG4gIHNlcnZlci5nZXQoJy9wcm9kdWN0c3NwJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYWxscHJvZHVjdFNQID0gXCJDQUxMIGBBbGxfcHJvZHVjdHNgKClcIjtcclxuICAgIC8vIGxldCAgYWxscHJvZHVjdHNTUCAgPSBcIlNFTEVDVCAqIEZST00gQWxsX3Byb2R1Y3RzXCJcclxuICAgIGRiLnF1ZXJ5KGFsbHByb2R1Y3RTUCwgKGVycm9yLCBkYXRhLCBmaWVsZHMpID0+IHtcclxuICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOiBlcnJvciB9KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbihkYXRhWzBdKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgLy9wcm9kdWN0YnlJRFxyXG4gIHNlcnZlci5nZXQoXCIvcHJvZHVjdHNzcC86aWRcIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgQnlJRCA9IFwiQ0FMTCBgQWxsX3Byb2R1Y3RzYCgpXCI7XHJcbiAgICBsZXQgcHJvZHVjdGJ5aWQgPSByZXEucGFyYW1zLklEO1xyXG4gICAgZGIucXVlcnkoQnlJRCwgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuanNvbihkYXRhWzBdLmZpbmQoeCA9PiB4LklEID09IHByb2R1Y3RieWlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbiAvL2FkbWluIGFsbCBwcm9kdWN0c1xyXG4gIHNlcnZlci5nZXQoJy9hZG1pbicsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGFsbHByb2R1Y3RzID0gXCJDQUxMIGBBbGxhZG1pbnByb2R1Y3RgKClcIjtcclxuICAgIFxyXG4gICAgZGIucXVlcnkoIGFsbHByb2R1Y3RzLCAoZXJyb3IsIGRhdGEsIGZpZWxkcykgPT4ge1xyXG4gICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIHJlcy5qc29uKGRhdGFbMF0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuIFxyXG4gIFxyXG4gIC8vIExPR0lOXHJcbnNlcnZlci5wb3N0KCcvbG9naW4nLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcclxuICBsZXQgcGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcclxuICBsZXQgbG9naW5RdWVyeSA9ICBcIkNBTEwgYGxvZ2luYCg/LD8pXCI7XHJcbiAgZGIucXVlcnkobG9naW5RdWVyeSwgW2VtYWlsLCBwYXNzd29yZF0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTogZXJyb3J9KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIGlmKGRhdGFbMF0ubGVuZ3RoID09PSAwKXtcclxuICAgICAgICByZXMuanNvbih7IGRhdGE6IGRhdGFbMF0sIGxvZ2luOiBmYWxzZSwgbWVzc2FnZTogXCJTb3JyeSwgeW91IGhhdmUgcHJvdmlkZWQgd3JvbmcgY3JlZGVudGlhbHNcIn0pXHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbih7IFxyXG4gICAgICAgICAgICBJRDogZGF0YVswXS5JRCwgXHJcbiAgICAgICAgICAgIGVtYWlsOiBkYXRhWzBdLmVtYWlsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhWzBdLFxyXG4gICAgICAgICAgICBsb2dpbjogdHJ1ZSwgXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTG9naW4gc3VjY2Vzc2Z1bFwifSk7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgQXV0aCBLZXlcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbn0pO1xyXG5cclxuXHJcbi8vIGVkaXRwcm9kdWN0XHJcbnNlcnZlci5wdXQoJy9lZGl0cHJvZHVjdCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBkZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xyXG4gIGxldCBJRCA9IHJlcS5ib2R5LklEO1xyXG4gIGxldCBwcmljZSA9IHJlcS5ib2R5LnByaWNlO1xyXG4gIGxldCBwcm9kdWN0VGl0bGUgPSByZXEuYm9keS5wcm9kdWN0VGl0bGU7XHJcbiAgbGV0IHN0b2NrQXZhaWxhYmlsaXR5ID0gcmVxLmJvZHkuc3RvY2tBdmFpbGFiaWxpdHk7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBlZGl0cHJvZHVjdGAoPywgPywgPyw/KVwiO1xyXG4gIGRiLnF1ZXJ5KHF1ZXJ5LCBbZGVzY3JpcHRpb24sSUQsIHByaWNlLCBwcm9kdWN0VGl0bGUsc3RvY2tBdmFpbGFiaWxpdHldLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oeyBlZGl0OiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICByZXMuanNvbih7IGVkaXQ6IHRydWUsIG1lc3NhZ2U6IFwiUHJvZHVjdCBzdWNjZXNzZnVsbHkgZWRpdGVkXCJ9KTtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcbi8vZGlzcGxheSBlZGl0ZWQgcHJvZHVjdFxyXG5zZXJ2ZXIucHV0KCcvZWRpdGVkZGlzcGxheScsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBJRCA9IHJlcS5ib2R5LklEO1xyXG4gIGxldCBkaXNwbGF5ID0gcmVxLmJvZHkuZGlzcGxheTtcclxuICBsZXQgcXVlcnkgPSBcIkNBTEwgYGVkaXRlZGRpc3BsYXlgKD8sPylcIjtcclxuICBkYi5xdWVyeShxdWVyeSxbSUQsZGlzcGxheV0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHJlcy5qc29uKHsgZWRpdGVkZGlzcGxheTogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzLmpzb24oeyBkYXRhOiBkYXRhWzBdLCBlZGl0ZWRkaXNwbGF5OiB0cnVlLCBtZXNzYWdlOiBcIkVkaXRlZCBwcm9kdWN0IHN1Y2Nlc3NmdWxseSBkaXNwbGF5ZWRcIiB9KVxyXG4gICAgICB9XHJcbiAgfSlcclxufSlcclxuXHJcblxyXG4vLyBBZGRuZXdwcm9kdWN0XHJcbnNlcnZlci5wb3N0KFwiL2FkZG5ld3Byb2R1Y3RcIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IGRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgbGV0IElEID0gcmVxLmJvZHkuSUQ7XHJcbiAgbGV0IHByaWNlID0gcmVxLmJvZHkucHJvZHVjdFRpdGxlO1xyXG4gIGxldCBwcm9kdWN0VGl0bGUgPSByZXEuYm9keS5wcmljZTtcclxuICBsZXQgc3RvY2tBdmFpbGFiaWxpdHkgPSByZXEuYm9keS5zdG9ja0F2YWlsYWJpbGl0eTtcclxuICBcclxuICBsZXQgcXVlcnkgPSAnQ0FMTCBgYWRkb25lcHJvZHVjdGAoPywgPywgPywgPyknO1xyXG4gIGRiLnF1ZXJ5KHF1ZXJ5LCBbZGVzY3JpcHRpb24sSUQsIHByaWNlLCBwcm9kdWN0VGl0bGUsc3RvY2tBdmFpbGFiaWxpdHldLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgaW5zZXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICBkYXRhOiBkYXRhWzBdLFxyXG4gICAgICAgICAgICAgIGluc2VydDogdHJ1ZSxcclxuICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5ldyBwcm9kdWN0IHN1Y2Nlc3NmdWxseSBhZGRlZC5cIlxyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG4vL3Byb2R1Y3RieSBpZFxyXG5zZXJ2ZXIuZ2V0KCcvcHJvZHVjdC86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgSUQgPSByZXEucGFyYW1zLklEO1xyXG4gIGxldCBnZXRieUlEID0gXCJDQUxMIGBnZXRQcm9kdWN0YnlJRGAoPylcIjtcclxuICBkYi5xdWVyeShnZXRieUlELCBbSURdLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICByZXMuanNvbih7IElEOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChkYXRhWzBdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIHJlcy5qc29uKHsgSUQ6IGZhbHNlLCBtZXNzYWdlOiBcIk5vIHN1Y2ggcHJvZHVjdCBJRCBleGlzdFwiIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlcy5qc29uKHsgSUQ6IHRydWUsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBwcm9kdWN0RGF0YTogZGF0YVswXSB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfSlcclxufSlcclxuXHJcbi8vZGVsZXRlIHByb2R1Y3Rcclxuc2VydmVyLmRlbGV0ZSgnL2RlbGV0ZXByb2R1Y3QvOmlkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IElEID0gcmVxLnBhcmFtcy5JRDtcclxuICBsZXQgZGVsZXRlSUQgPSBcIkNBTEwgYGRlbGV0ZWJ5SURgKD8pXCI7XHJcbiAgZGIucXVlcnkoZGVsZXRlSUQsIFtJRF0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHJlcy5qc29uKHsgZGVsZXRlYnlJRDogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzLmpzb24oeyBkZWxldGVieUlEOiB0cnVlLCBtZXNzYWdlOiBcIlByb2R1Y3QgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIiB9KTtcclxuICAgICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG5cclxuXHJcbnNlcnZlci5nZXQoJy9vbmxpbmVwcm9kdWN0cycgLCAocmVxLCByZXMpID0+e1xyXG4gIGxldCBvbmxpbmUgPSBcIkNBTEwgYGRpcGxheW9ubGluZWAoKVwiO1xyXG4gIGRiLnF1ZXJ5KG9ubGluZSAsIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJlcy5qc29uKHsgSUQ6IGZhbHNlLCBtZXNzYWdlOiBlcnJvciB9KVxyXG4gIH0gXHJcbiAgZWxzZSB7XHJcbiAgICAgcmVzLmpzb24oZGF0YVswXSlcclxuICAgICBcclxuICB9XHJcbn0pXHJcbn0pXHJcblxyXG4gXHJcblxyXG5cclxuXHJcblxyXG4gIHNlcnZlci5saXN0ZW4oNDYwMCwgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIGlzIHN1Y2Nlc3NmdWxseSBydW5uaW5nIG9uIHBvcnQgNDYwMCcpO1xyXG4gICAgXHJcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxFQUFFLEdBQUdDLGtCQUFNQyxnQkFBTixDQUF3QjtFQUNqQ0MsSUFBSSxFQUFFLFdBRDJCO0VBRWpDQyxJQUFJLEVBQUUsSUFGMkI7RUFHakNDLElBQUksRUFBQyxNQUg0QjtFQUlqQ0MsUUFBUSxFQUFDLEVBSndCO0VBS2pDQyxRQUFRLEVBQUM7QUFMd0IsQ0FBeEIsQ0FBWDs7QUFTQSxJQUFNQyxNQUFNLEdBQUcsMEJBQWY7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","map":{"version":3,"names":["db","mysql","createConnection","host","port","user","password","database","server","use","express","json","connect","error","console","log","get","req","res","allproductSP","query","data","fields","ErrorMessage","ByID","productbyid","params","ID","find","x","allproducts","post","email","body","loginQuery","length","login","message","put","description","price","productTitle","stockAvailability","edit","display","editeddisplay","insert","getbyID","productData","deleteID","deletebyID","online","listen"],"sourceRoot":"D:\\VanArt Assignments\\Presentation Week 8 -13-may\\Server\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport mysql from 'mysql';\r\nimport cors from 'cors';\r\n\r\n// connecting to the local host\r\nconst db = mysql.createConnection ({\r\n  host: 'localhost',\r\n  port: 3306,\r\n  user:'root',\r\n  password:'',\r\n  database:'products'\r\n\r\n});\r\n\r\nconst server = express();\r\nserver.use(cors());\r\nserver.use(express.json());\r\n\r\ndb.connect(error =>{\r\n    if(error)\r\n    console.log('Sorry cannot connect to db :', error);\r\n    else\r\n    console.log('Connected to mysql db');\r\n  })\r\n  \r\n  // server.get('/productsapi',(req,res)=>{\r\n  \r\n    // Select from the product table\r\n    //stored procedures for allproducts\r\n  //   let allproductsSP = \"SELECT * FROM product\"\r\n  //   let query = db.query(allproductsSP,(error,data,fields) => {\r\n      \r\n  //     if(error){\r\n  //       res.json({ ErrorMessage:error })\r\n        \r\n  //     }\r\n  //     else{\r\n     \r\n  //     res.json(data);\r\n  //   }\r\n  \r\n  //   })\r\n  // })\r\n  \r\n  //display all products\r\n  server.get('/productssp', (req, res) => {\r\n    let allproductSP = \"CALL `All_products`()\";\r\n    // let  allproductsSP  = \"SELECT * FROM All_products\"\r\n    db.query(allproductSP, (error, data, fields) => {\r\n      if(error){\r\n        res.json({ ErrorMessage: error });\r\n        // console.log(error);\r\n      }\r\n      else{\r\n        res.json(data[0]);\r\n      }\r\n      \r\n    })\r\n  })\r\n\r\n  //productbyID\r\n  server.get(\"/productssp/:id\", (req, res) => {\r\n    let ByID = \"CALL `All_products`()\";\r\n    let productbyid = req.params.ID;\r\n    db.query(ByID, (error, data) => {\r\n        if (error) {\r\n            console.log(error);\r\n        } else {\r\n            res.json(data[0].find(x => x.ID == productbyid));\r\n        }\r\n    });\r\n});\r\n\r\n\r\n //admin all products\r\n  server.get('/admin', (req, res) => {\r\n    let allproducts = \"CALL `Alladminproduct`()\";\r\n    \r\n    db.query( allproducts, (error, data, fields) => {\r\n      if(error){\r\n        res.json({ ErrorMessage: error });\r\n        // console.log(error);\r\n      }\r\n      else{\r\n        res.json(data[0]);\r\n      }\r\n      \r\n    })\r\n  })\r\n\r\n \r\n  \r\n  // LOGIN\r\nserver.post('/login', (req, res) => {\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let loginQuery =  \"CALL `login`(?,?)\";\r\n  db.query(loginQuery, [email, password], (error, data) => {\r\n    if(error){\r\n      res.json({ ErrorMessage: error});\r\n    }\r\n    else{\r\n      if(data[0].length === 0){\r\n        res.json({ data: data[0], login: false, message: \"Sorry, you have provided wrong credentials\"})\r\n      }\r\n      else{\r\n        res.json({ \r\n            ID: data[0].ID, \r\n            email: data[0].email,\r\n            data: data[0],\r\n            login: true, \r\n            message: \"Login successful\"});\r\n            // create the Auth Key\r\n      }\r\n\r\n      \r\n    }\r\n  })\r\n\r\n});\r\n\r\n\r\n// editproduct\r\nserver.put('/editproduct', (req, res) => {\r\n  let description = req.body.description;\r\n  let ID = req.body.ID;\r\n  let price = req.body.price;\r\n  let productTitle = req.body.productTitle;\r\n  let stockAvailability = req.body.stockAvailability;\r\n  let query = \"CALL `editproduct`(?, ?, ?,?)\";\r\n  db.query(query, [description,ID, price, productTitle,stockAvailability], (error, data) => {\r\n    if(error){\r\n      res.json({ edit: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ edit: true, message: \"Product successfully edited\"});\r\n    }\r\n  })\r\n});\r\n\r\n//display edited product\r\nserver.put('/editeddisplay', (req, res) => {\r\n  let ID = req.body.ID;\r\n  let display = req.body.display;\r\n  let query = \"CALL `editeddisplay`(?,?)\";\r\n  db.query(query,[ID,display], (error, data) => {\r\n      if (error) {\r\n          res.json({ editeddisplay: false, message: error });\r\n      } else {\r\n          res.json({ data: data[0], editeddisplay: true, message: \"Edited product successfully displayed\" })\r\n      }\r\n  })\r\n})\r\n\r\n\r\n// Addnewproduct\r\nserver.post(\"/addnewproduct\", (req, res) => {\r\n  let description = req.body.description;\r\n  let ID = req.body.ID;\r\n  let price = req.body.productTitle;\r\n  let productTitle = req.body.price;\r\n  let stockAvailability = req.body.stockAvailability;\r\n  \r\n  let query = 'CALL `addoneproduct`(?, ?, ?, ?)';\r\n  db.query(query, [description,ID, price, productTitle,stockAvailability], (error, data) => {\r\n      if (error) {\r\n          res.json({\r\n              insert: false,\r\n              message: error\r\n          })\r\n      } else {\r\n          res.json({\r\n              data: data[0],\r\n              insert: true,\r\n              message: \"New product successfully added.\"\r\n          })\r\n      }\r\n  })\r\n})\r\n\r\n//productby id\r\nserver.get('/product/:id', (req, res) => {\r\n  let ID = req.params.ID;\r\n  let getbyID = \"CALL `getProductbyID`(?)\";\r\n  db.query(getbyID, [ID], (error, data) => {\r\n      if (error) {\r\n          res.json({ ID: false, message: error })\r\n      } else {\r\n          if (data[0].length === 0) {\r\n              res.json({ ID: false, message: \"No such product ID exist\" })\r\n          } else {\r\n              res.json({ ID: true, message: \"success\", productData: data[0] })\r\n          }\r\n      }\r\n  })\r\n})\r\n\r\n//delete product\r\nserver.delete('/deleteproduct/:id', (req, res) => {\r\n  let ID = req.params.ID;\r\n  let deleteID = \"CALL `deletebyID`(?)\";\r\n  db.query(deleteID, [ID], (error, data) => {\r\n      if (error) {\r\n          res.json({ deletebyID: false, message: error });\r\n      } else {\r\n          res.json({ deletebyID: true, message: \"Product deleted successfully\" });\r\n      }\r\n  })\r\n})\r\n\r\n\r\n\r\nserver.get('/onlineproducts' , (req, res) =>{\r\n  let online = \"CALL `diplayonline`()\";\r\n  db.query(online , (error, data) => {\r\n    if (error) {\r\n      res.json({ ID: false, message: error })\r\n  } \r\n  else {\r\n     res.json(data[0])\r\n     \r\n  }\r\n})\r\n})\r\n\r\n \r\n\r\n\r\n\r\n\r\n  server.listen(4600, function() {\r\n    console.log('Server is successfully running on port 4600');\r\n    \r\n})"],"mappings":"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"}},"mtime":1652648965885},"{\"assumptions\":{},\"sourceRoot\":\"/Users/sachi/Desktop/term3_week8project_prachi/Server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sachi/Desktop/term3_week8project_prachi/Server\",\"filename\":\"/Users/sachi/Desktop/term3_week8project_prachi/Server/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sachi/Desktop/term3_week8project_prachi/Server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// connecting to the local host\n// const db = mysql.createConnection ({\n//   host: 'localhost',\n//   port: 3306,\n//   user:'root',\n//   password:'',\n//   database:'products'\n// });\n// connecting to the local host\nvar db = _mysql[\"default\"].createConnection({\n  host: 'localhost',\n  port: 8889,\n  user: 'root',\n  password: 'root',\n  database: 'products'\n});\n\nvar server = (0, _express[\"default\"])();\nserver.use((0, _cors[\"default\"])());\nserver.use(_express[\"default\"].json());\ndb.connect(function (error) {\n  if (error) console.log('Sorry cannot connect to db :', error);else console.log('Connected to mysql db');\n}); // server.get('/productsapi',(req,res)=>{\n// Select from the product table\n//stored procedures for allproducts\n//   let allproductsSP = \"SELECT * FROM product\"\n//   let query = db.query(allproductsSP,(error,data,fields) => {\n//     if(error){\n//       res.json({ ErrorMessage:error })\n//     }\n//     else{\n//     res.json(data);\n//   }\n//   })\n// })\n//display all products\n\nserver.get('/productssp', function (req, res) {\n  var allproductSP = \"CALL `All_products`()\"; // let  allproductsSP  = \"SELECT * FROM All_products\"\n\n  db.query(allproductSP, function (error, data, fields) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      }); // console.log(error);\n    } else {\n      res.json(data[0]);\n    }\n  });\n}); //productbyID\n// This one was not tested so I did the testing and I changed a few things.\n// new version\n\nserver.get(\"/productssp/:id\", function (req, res) {\n  var ByID = \" CALL `getProductbyID`(?);\";\n  var productbyid = req.params.id;\n  db.query(ByID, [productbyid], function (error, data) {\n    if (error) {\n      console.log(error);\n    } else {\n      res.json(data[0][0]);\n    }\n  });\n}); //  old version\n//   server.get(\"/productssp/:id\", (req, res) => {\n//     let ByID = \"CALL `All_products`()\";\n//     let productbyid = req.params.id;\n//     db.query(ByID, (error, data) => {\n//         if (error) {\n//             console.log(error);\n//         } else {\n//             res.json(data[0].find(x => x.ID == productbyid));\n//         }\n//     });\n// });\n//admin all products\n// server.get('/admin', (req, res) => {\n//   let allproducts = \"CALL `Alladminproduct`()\";\n//   db.query( allproducts, (error, data, fields) => {\n//     if(error){\n//       res.json({ ErrorMessage: error });\n//       // console.log(error);\n//     }\n//     else{\n//       res.json(data[0]);\n//     }\n//   })\n// })\n// LOGIN\n\nserver.post('/login', function (req, res) {\n  var email = req.body.email;\n  var password = req.body.password;\n  var loginQuery = \"CALL `login`(?,?)\";\n  db.query(loginQuery, [email, password], function (error, data) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          data: data[0],\n          login: false,\n          message: \"Sorry, you have provided wrong credentials\"\n        });\n      } else {\n        res.json({\n          ID: data[0].ID,\n          email: data[0].email,\n          data: data[0],\n          login: true,\n          message: \"Login successful\"\n        }); // create the Auth Key\n      }\n    }\n  });\n}); // editproduct\n// You missed a few things here so I fixed it up \n// CALL `editproduct`(@p0, @p1, @p2, @p3, @p4, @p5)\n\nserver.put('/edit', function (req, res) {\n  // order in database: description, ID, price, productTitle, product_image, stockAvailability\n  var description = req.body.description;\n  var price = req.body.price;\n  var productTitle = req.body.productTitle;\n  var stockAvailability = req.body.stockAvailability;\n  var ID = req.body.ID;\n  var product_image = req.body.product_image;\n  var display = req.body.display;\n  var query = \"CALL `editproduct`(?, ?, ?, ?, ?, ?,?)\";\n  db.query(query, [description, ID, price, productTitle, product_image, stockAvailability, display], function (error, data, fields) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      });\n    } else {\n      res.json({\n        message: \"update successful!\",\n        edit: true,\n        data: data\n      });\n    }\n  });\n}); // old version \n// ------------------------------------------\n//1. there are only four question marks for calling stored procedures but in your sp, you created 6 parameteres. \n//2. be aware of the order of information. Your argument starts from description, ID, price, productTitle, product_image, stockAvailability. So when you connect valued from client side, you must pass those values in matching order with the database! \n// These are very important! be careful! \n// server.put('/editproduct', (req, res) => {\n//   let description = req.body.description;\n//   let ID = req.body.ID;\n//   let price = req.body.price;\n//   let productTitle = req.body.productTitle;\n//   let stockAvailability = req.body.stockAvailability;\n//   let query = \"CALL `editproduct`(?, ?, ?,?)\";\n//   db.query(query, [description,ID, price, productTitle,stockAvailability], (error, data) => {\n//     if(error){\n//       res.json({ edit: false, message: error });\n//     }\n//     else{\n//       res.json({ edit: true, message: \"Product successfully edited\"});\n//     }\n//   })\n// });\n//display edited product\n\nserver.put('/editeddisplay', function (req, res) {\n  var ID = req.body.ID;\n  var display = req.body.display;\n  var query = \"CALL `editeddisplay`(?,?)\";\n  db.query(query, [ID, display], function (error, data) {\n    if (error) {\n      res.json({\n        editeddisplay: false,\n        message: error\n      });\n    } else {\n      res.json({\n        data: data[0],\n        editeddisplay: true,\n        message: \"Edited product successfully displayed\"\n      });\n    }\n  });\n}); // Addnewproduct\n// testing didn't pass. I found some flaws in stored procedures and the code so I changed a bit for you :)\n// id is auto incremented and in the stored procedure, there is no parameter for id so,no need to provide id in query here.\n\nserver.post(\"/addnewproduct\", function (req, res) {\n  var description = req.body.description;\n  var price = req.body.price;\n  var productTitle = req.body.productTitle;\n  var stockAvailability = req.body.stockAvailability; // let ID = req.body.ID;\n\n  var product_image = req.body.product_image;\n  var display = req.body.display;\n  var query = \"CALL `addoneproduct`(?, ?, ?, ?, ?, ?)\";\n  db.query(query, [productTitle, product_image, description, price, stockAvailability, display], function (error, data) {\n    if (error) {\n      res.json({\n        insert: false,\n        message: error\n      });\n    } else {\n      res.json({\n        data: data[0],\n        insert: true,\n        message: \"New product successfully added.\"\n      });\n    }\n  });\n}); // ----------- old version\n\nserver.post(\"/addnewproduct\", function (req, res) {\n  var description = req.body.description;\n  var ID = req.body.ID;\n  var price = req.body.productTitle;\n  var productTitle = req.body.price;\n  var stockAvailability = req.body.stockAvailability;\n  var query = 'CALL `addoneproduct`(?, ?, ?, ?)';\n  db.query(query, [description, ID, price, productTitle, stockAvailability], function (error, data) {\n    if (error) {\n      res.json({\n        insert: false,\n        message: error\n      });\n    } else {\n      res.json({\n        data: data[0],\n        insert: true,\n        message: \"New product successfully added.\"\n      });\n    }\n  });\n}); //productby id\n// this api was not tested so I tested and changed req.params.ID to req.params.id. \n// But then I noticed that there is another api for selecting products by id so I commented this whole thing out.\n// server.get('/product/:id', (req, res) => {\n//   let ID = req.params.id;\n//   let getbyID = \"CALL `getProductbyID`(?)\";\n//   db.query(getbyID, [ID], (error, data) => {\n//       if (error) {\n//           res.json({ ID: false, message: error })\n//       } else {\n//           if (data[0].length === 0) {\n//               res.json({ ID: false, message: \"No such product ID exist\" })\n//           } else {\n//               res.json({ ID: true, message: \"success\", productData: data[0] })\n//           }\n//       }\n//   })\n// })\n//delete product\n\nserver[\"delete\"]('/deleteproduct/:id', function (req, res) {\n  var ID = req.params.id;\n  var deleteID = \"CALL `deletebyID`(?)\";\n  db.query(deleteID, [ID], function (error, data) {\n    if (error) {\n      res.json({\n        deletebyID: false,\n        message: error\n      });\n    } else {\n      res.json({\n        deletebyID: true,\n        message: \"Product deleted successfully\"\n      });\n    }\n  });\n});\nserver.get('/onlineproducts', function (req, res) {\n  var online = \"CALL `diplayonline`()\";\n  db.query(online, function (error, data) {\n    if (error) {\n      res.json({\n        ID: false,\n        message: error\n      });\n    } else {\n      res.json(data[0]);\n    }\n  });\n});\nserver.listen(4600, function () {\n  console.log('Server is successfully running on port 4600');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsIm15c3FsIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwb3J0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJzZXJ2ZXIiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCJyZXEiLCJyZXMiLCJhbGxwcm9kdWN0U1AiLCJxdWVyeSIsImRhdGEiLCJmaWVsZHMiLCJFcnJvck1lc3NhZ2UiLCJCeUlEIiwicHJvZHVjdGJ5aWQiLCJwYXJhbXMiLCJpZCIsInBvc3QiLCJlbWFpbCIsImJvZHkiLCJsb2dpblF1ZXJ5IiwibGVuZ3RoIiwibG9naW4iLCJtZXNzYWdlIiwiSUQiLCJwdXQiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwicHJvZHVjdFRpdGxlIiwic3RvY2tBdmFpbGFiaWxpdHkiLCJwcm9kdWN0X2ltYWdlIiwiZGlzcGxheSIsImVkaXQiLCJlZGl0ZWRkaXNwbGF5IiwiaW5zZXJ0IiwiZGVsZXRlSUQiLCJkZWxldGVieUlEIiwib25saW5lIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FjaGkvRGVza3RvcC90ZXJtM193ZWVrOHByb2plY3RfcHJhY2hpL1NlcnZlci8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBteXNxbCBmcm9tICdteXNxbCc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcblxuLy8gY29ubmVjdGluZyB0byB0aGUgbG9jYWwgaG9zdFxuLy8gY29uc3QgZGIgPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uICh7XG4vLyAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxuLy8gICBwb3J0OiAzMzA2LFxuLy8gICB1c2VyOidyb290Jyxcbi8vICAgcGFzc3dvcmQ6JycsXG4vLyAgIGRhdGFiYXNlOidwcm9kdWN0cydcblxuLy8gfSk7XG5cbi8vIGNvbm5lY3RpbmcgdG8gdGhlIGxvY2FsIGhvc3RcbmNvbnN0IGRiID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbiAoe1xuICBob3N0OiAnbG9jYWxob3N0JyxcbiAgcG9ydDogODg4OSxcbiAgdXNlcjoncm9vdCcsXG4gIHBhc3N3b3JkOidyb290JyxcbiAgZGF0YWJhc2U6J3Byb2R1Y3RzJ1xuXG59KTtcblxuXG5cbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcbnNlcnZlci51c2UoY29ycygpKTtcbnNlcnZlci51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5kYi5jb25uZWN0KGVycm9yID0+e1xuICAgIGlmKGVycm9yKVxuICAgIGNvbnNvbGUubG9nKCdTb3JyeSBjYW5ub3QgY29ubmVjdCB0byBkYiA6JywgZXJyb3IpO1xuICAgIGVsc2VcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIG15c3FsIGRiJyk7XG4gIH0pXG4gIFxuICAvLyBzZXJ2ZXIuZ2V0KCcvcHJvZHVjdHNhcGknLChyZXEscmVzKT0+e1xuICBcbiAgICAvLyBTZWxlY3QgZnJvbSB0aGUgcHJvZHVjdCB0YWJsZVxuICAgIC8vc3RvcmVkIHByb2NlZHVyZXMgZm9yIGFsbHByb2R1Y3RzXG4gIC8vICAgbGV0IGFsbHByb2R1Y3RzU1AgPSBcIlNFTEVDVCAqIEZST00gcHJvZHVjdFwiXG4gIC8vICAgbGV0IHF1ZXJ5ID0gZGIucXVlcnkoYWxscHJvZHVjdHNTUCwoZXJyb3IsZGF0YSxmaWVsZHMpID0+IHtcbiAgICAgIFxuICAvLyAgICAgaWYoZXJyb3Ipe1xuICAvLyAgICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTplcnJvciB9KVxuICAgICAgICBcbiAgLy8gICAgIH1cbiAgLy8gICAgIGVsc2V7XG4gICAgIFxuICAvLyAgICAgcmVzLmpzb24oZGF0YSk7XG4gIC8vICAgfVxuICBcbiAgLy8gICB9KVxuICAvLyB9KVxuICBcbiAgLy9kaXNwbGF5IGFsbCBwcm9kdWN0c1xuICBzZXJ2ZXIuZ2V0KCcvcHJvZHVjdHNzcCcsIChyZXEsIHJlcykgPT4ge1xuICAgIGxldCBhbGxwcm9kdWN0U1AgPSBcIkNBTEwgYEFsbF9wcm9kdWN0c2AoKVwiO1xuICAgIC8vIGxldCAgYWxscHJvZHVjdHNTUCAgPSBcIlNFTEVDVCAqIEZST00gQWxsX3Byb2R1Y3RzXCJcbiAgICBkYi5xdWVyeShhbGxwcm9kdWN0U1AsIChlcnJvciwgZGF0YSwgZmllbGRzKSA9PiB7XG4gICAgICBpZihlcnJvcil7XG4gICAgICAgIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOiBlcnJvciB9KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVzLmpzb24oZGF0YVswXSk7XG4gICAgICB9XG4gICAgICBcbiAgICB9KVxuICB9KVxuXG4gIC8vcHJvZHVjdGJ5SURcbiAgLy8gVGhpcyBvbmUgd2FzIG5vdCB0ZXN0ZWQgc28gSSBkaWQgdGhlIHRlc3RpbmcgYW5kIEkgY2hhbmdlZCBhIGZldyB0aGluZ3MuXG5cbi8vIG5ldyB2ZXJzaW9uXG4gIHNlcnZlci5nZXQoXCIvcHJvZHVjdHNzcC86aWRcIiwgKHJlcSwgcmVzKSA9PiB7XG4gICAgbGV0IEJ5SUQgPSBcIiBDQUxMIGBnZXRQcm9kdWN0YnlJRGAoPyk7XCI7XG4gICAgbGV0IHByb2R1Y3RieWlkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBkYi5xdWVyeShCeUlELCBbcHJvZHVjdGJ5aWRdLChlcnJvciwgZGF0YSk9PntcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmpzb24oZGF0YVswXVswXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG4vLyAgb2xkIHZlcnNpb25cbi8vICAgc2VydmVyLmdldChcIi9wcm9kdWN0c3NwLzppZFwiLCAocmVxLCByZXMpID0+IHtcbi8vICAgICBsZXQgQnlJRCA9IFwiQ0FMTCBgQWxsX3Byb2R1Y3RzYCgpXCI7XG4vLyAgICAgbGV0IHByb2R1Y3RieWlkID0gcmVxLnBhcmFtcy5pZDtcbi8vICAgICBkYi5xdWVyeShCeUlELCAoZXJyb3IsIGRhdGEpID0+IHtcbi8vICAgICAgICAgaWYgKGVycm9yKSB7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICByZXMuanNvbihkYXRhWzBdLmZpbmQoeCA9PiB4LklEID09IHByb2R1Y3RieWlkKSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9KTtcbi8vIH0pO1xuXG5cbiAvL2FkbWluIGFsbCBwcm9kdWN0c1xuICAvLyBzZXJ2ZXIuZ2V0KCcvYWRtaW4nLCAocmVxLCByZXMpID0+IHtcbiAgLy8gICBsZXQgYWxscHJvZHVjdHMgPSBcIkNBTEwgYEFsbGFkbWlucHJvZHVjdGAoKVwiO1xuICAgIFxuICAvLyAgIGRiLnF1ZXJ5KCBhbGxwcm9kdWN0cywgKGVycm9yLCBkYXRhLCBmaWVsZHMpID0+IHtcbiAgLy8gICAgIGlmKGVycm9yKXtcbiAgLy8gICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yIH0pO1xuICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XG4gIC8vICAgICB9XG4gIC8vICAgICBlbHNle1xuICAvLyAgICAgICByZXMuanNvbihkYXRhWzBdKTtcbiAgLy8gICAgIH1cbiAgICAgIFxuICAvLyAgIH0pXG4gIC8vIH0pXG5cbiBcbiAgXG4gIC8vIExPR0lOXG5zZXJ2ZXIucG9zdCgnL2xvZ2luJywgKHJlcSwgcmVzKSA9PiB7XG4gIGxldCBlbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xuICBsZXQgcGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcbiAgbGV0IGxvZ2luUXVlcnkgPSAgXCJDQUxMIGBsb2dpbmAoPyw/KVwiO1xuICBkYi5xdWVyeShsb2dpblF1ZXJ5LCBbZW1haWwsIHBhc3N3b3JkXSwgKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgaWYoZXJyb3Ipe1xuICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yfSk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBpZihkYXRhWzBdLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgIHJlcy5qc29uKHsgZGF0YTogZGF0YVswXSwgbG9naW46IGZhbHNlLCBtZXNzYWdlOiBcIlNvcnJ5LCB5b3UgaGF2ZSBwcm92aWRlZCB3cm9uZyBjcmVkZW50aWFsc1wifSlcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJlcy5qc29uKHsgXG4gICAgICAgICAgICBJRDogZGF0YVswXS5JRCwgXG4gICAgICAgICAgICBlbWFpbDogZGF0YVswXS5lbWFpbCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFbMF0sXG4gICAgICAgICAgICBsb2dpbjogdHJ1ZSwgXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkxvZ2luIHN1Y2Nlc3NmdWxcIn0pO1xuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBBdXRoIEtleVxuICAgICAgfVxuXG4gICAgICBcbiAgICB9XG4gIH0pXG5cbn0pO1xuXG5cbi8vIGVkaXRwcm9kdWN0XG4vLyBZb3UgbWlzc2VkIGEgZmV3IHRoaW5ncyBoZXJlIHNvIEkgZml4ZWQgaXQgdXAgXG5cbi8vIENBTEwgYGVkaXRwcm9kdWN0YChAcDAsIEBwMSwgQHAyLCBAcDMsIEBwNCwgQHA1KVxuXG5zZXJ2ZXIucHV0KCcvZWRpdCcsKHJlcSwgcmVzKT0+e1xuLy8gb3JkZXIgaW4gZGF0YWJhc2U6IGRlc2NyaXB0aW9uLCBJRCwgcHJpY2UsIHByb2R1Y3RUaXRsZSwgcHJvZHVjdF9pbWFnZSwgc3RvY2tBdmFpbGFiaWxpdHlcblxubGV0IGRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG5sZXQgcHJpY2UgPSByZXEuYm9keS5wcmljZTtcbmxldCBwcm9kdWN0VGl0bGUgPSByZXEuYm9keS5wcm9kdWN0VGl0bGU7XG5sZXQgc3RvY2tBdmFpbGFiaWxpdHkgPSByZXEuYm9keS5zdG9ja0F2YWlsYWJpbGl0eVxubGV0IElEID0gcmVxLmJvZHkuSUQ7XG5sZXQgcHJvZHVjdF9pbWFnZSA9IHJlcS5ib2R5LnByb2R1Y3RfaW1hZ2VcbmxldCBkaXNwbGF5ID0gcmVxLmJvZHkuZGlzcGxheVxuXG5sZXQgcXVlcnkgPSBcIkNBTEwgYGVkaXRwcm9kdWN0YCg/LCA/LCA/LCA/LCA/LCA/LD8pXCJcblxuZGIucXVlcnkocXVlcnksIFtkZXNjcmlwdGlvbiwgSUQsIHByaWNlLCBwcm9kdWN0VGl0bGUsIHByb2R1Y3RfaW1hZ2UsIHN0b2NrQXZhaWxhYmlsaXR5LCBkaXNwbGF5XSwgKGVycm9yLCBkYXRhLCBmaWVsZHMpPT57XG4gIGlmKGVycm9yKXtcbiAgICByZXMuanNvbih7RXJyb3JNZXNzYWdlOmVycm9yfSk7XG4gIH1lbHNle1xuICAgIHJlcy5qc29uKHtcbiAgICAgIG1lc3NhZ2U6XCJ1cGRhdGUgc3VjY2Vzc2Z1bCFcIixcbiAgICAgIGVkaXQ6dHJ1ZSxcbiAgICAgIGRhdGE6ZGF0YVxuICAgIH0pXG4gIH1cbn0pXG59KVxuXG5cblxuLy8gb2xkIHZlcnNpb24gXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8xLiB0aGVyZSBhcmUgb25seSBmb3VyIHF1ZXN0aW9uIG1hcmtzIGZvciBjYWxsaW5nIHN0b3JlZCBwcm9jZWR1cmVzIGJ1dCBpbiB5b3VyIHNwLCB5b3UgY3JlYXRlZCA2IHBhcmFtZXRlcmVzLiBcbi8vMi4gYmUgYXdhcmUgb2YgdGhlIG9yZGVyIG9mIGluZm9ybWF0aW9uLiBZb3VyIGFyZ3VtZW50IHN0YXJ0cyBmcm9tIGRlc2NyaXB0aW9uLCBJRCwgcHJpY2UsIHByb2R1Y3RUaXRsZSwgcHJvZHVjdF9pbWFnZSwgc3RvY2tBdmFpbGFiaWxpdHkuIFNvIHdoZW4geW91IGNvbm5lY3QgdmFsdWVkIGZyb20gY2xpZW50IHNpZGUsIHlvdSBtdXN0IHBhc3MgdGhvc2UgdmFsdWVzIGluIG1hdGNoaW5nIG9yZGVyIHdpdGggdGhlIGRhdGFiYXNlISBcblxuLy8gVGhlc2UgYXJlIHZlcnkgaW1wb3J0YW50ISBiZSBjYXJlZnVsISBcbi8vIHNlcnZlci5wdXQoJy9lZGl0cHJvZHVjdCcsIChyZXEsIHJlcykgPT4ge1xuLy8gICBsZXQgZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcbi8vICAgbGV0IElEID0gcmVxLmJvZHkuSUQ7XG4vLyAgIGxldCBwcmljZSA9IHJlcS5ib2R5LnByaWNlO1xuLy8gICBsZXQgcHJvZHVjdFRpdGxlID0gcmVxLmJvZHkucHJvZHVjdFRpdGxlO1xuLy8gICBsZXQgc3RvY2tBdmFpbGFiaWxpdHkgPSByZXEuYm9keS5zdG9ja0F2YWlsYWJpbGl0eTtcbi8vICAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBlZGl0cHJvZHVjdGAoPywgPywgPyw/KVwiO1xuLy8gICBkYi5xdWVyeShxdWVyeSwgW2Rlc2NyaXB0aW9uLElELCBwcmljZSwgcHJvZHVjdFRpdGxlLHN0b2NrQXZhaWxhYmlsaXR5XSwgKGVycm9yLCBkYXRhKSA9PiB7XG4vLyAgICAgaWYoZXJyb3Ipe1xuLy8gICAgICAgcmVzLmpzb24oeyBlZGl0OiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSk7XG4vLyAgICAgfVxuLy8gICAgIGVsc2V7XG4vLyAgICAgICByZXMuanNvbih7IGVkaXQ6IHRydWUsIG1lc3NhZ2U6IFwiUHJvZHVjdCBzdWNjZXNzZnVsbHkgZWRpdGVkXCJ9KTtcbi8vICAgICB9XG4vLyAgIH0pXG4vLyB9KTtcblxuLy9kaXNwbGF5IGVkaXRlZCBwcm9kdWN0XG5zZXJ2ZXIucHV0KCcvZWRpdGVkZGlzcGxheScsIChyZXEsIHJlcykgPT4ge1xuICBsZXQgSUQgPSByZXEuYm9keS5JRDtcbiAgbGV0IGRpc3BsYXkgPSByZXEuYm9keS5kaXNwbGF5O1xuICBsZXQgcXVlcnkgPSBcIkNBTEwgYGVkaXRlZGRpc3BsYXlgKD8sPylcIjtcbiAgZGIucXVlcnkocXVlcnksW0lELGRpc3BsYXldLCAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJlcy5qc29uKHsgZWRpdGVkZGlzcGxheTogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuanNvbih7IGRhdGE6IGRhdGFbMF0sIGVkaXRlZGRpc3BsYXk6IHRydWUsIG1lc3NhZ2U6IFwiRWRpdGVkIHByb2R1Y3Qgc3VjY2Vzc2Z1bGx5IGRpc3BsYXllZFwiIH0pXG4gICAgICB9XG4gIH0pXG59KVxuXG5cbi8vIEFkZG5ld3Byb2R1Y3Rcbi8vIHRlc3RpbmcgZGlkbid0IHBhc3MuIEkgZm91bmQgc29tZSBmbGF3cyBpbiBzdG9yZWQgcHJvY2VkdXJlcyBhbmQgdGhlIGNvZGUgc28gSSBjaGFuZ2VkIGEgYml0IGZvciB5b3UgOilcbi8vIGlkIGlzIGF1dG8gaW5jcmVtZW50ZWQgYW5kIGluIHRoZSBzdG9yZWQgcHJvY2VkdXJlLCB0aGVyZSBpcyBubyBwYXJhbWV0ZXIgZm9yIGlkIHNvLG5vIG5lZWQgdG8gcHJvdmlkZSBpZCBpbiBxdWVyeSBoZXJlLlxuXG5zZXJ2ZXIucG9zdChcIi9hZGRuZXdwcm9kdWN0XCIsIChyZXEsIHJlcyk9PntcbiAgICAgXG5sZXQgZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcbmxldCBwcmljZSA9IHJlcS5ib2R5LnByaWNlO1xubGV0IHByb2R1Y3RUaXRsZSA9IHJlcS5ib2R5LnByb2R1Y3RUaXRsZTtcbmxldCBzdG9ja0F2YWlsYWJpbGl0eSA9IHJlcS5ib2R5LnN0b2NrQXZhaWxhYmlsaXR5XG4vLyBsZXQgSUQgPSByZXEuYm9keS5JRDtcbmxldCBwcm9kdWN0X2ltYWdlID0gcmVxLmJvZHkucHJvZHVjdF9pbWFnZVxubGV0IGRpc3BsYXkgPSByZXEuYm9keS5kaXNwbGF5XG5cbmxldCBxdWVyeSA9ICBcIkNBTEwgYGFkZG9uZXByb2R1Y3RgKD8sID8sID8sID8sID8sID8pXCI7XG5kYi5xdWVyeShxdWVyeSwgW3Byb2R1Y3RUaXRsZSwgcHJvZHVjdF9pbWFnZSwgZGVzY3JpcHRpb24sIHByaWNlLCBzdG9ja0F2YWlsYWJpbGl0eSwgZGlzcGxheV0sIChlcnJvciwgZGF0YSkgPT4ge1xuICBpZiAoZXJyb3IpIHtcbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICBpbnNlcnQ6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yXG4gICAgICB9KVxuICB9IGVsc2Uge1xuICAgICAgcmVzLmpzb24oe1xuICAgICAgICAgIGRhdGE6IGRhdGFbMF0sXG4gICAgICAgICAgaW5zZXJ0OiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiTmV3IHByb2R1Y3Qgc3VjY2Vzc2Z1bGx5IGFkZGVkLlwiXG4gICAgICB9KVxuICB9XG59KVxuXG59KVxuXG5cblxuLy8gLS0tLS0tLS0tLS0gb2xkIHZlcnNpb25cblxuc2VydmVyLnBvc3QoXCIvYWRkbmV3cHJvZHVjdFwiLCAocmVxLCByZXMpID0+IHtcbiAgbGV0IGRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gIGxldCBJRCA9IHJlcS5ib2R5LklEO1xuICBsZXQgcHJpY2UgPSByZXEuYm9keS5wcm9kdWN0VGl0bGU7XG4gIGxldCBwcm9kdWN0VGl0bGUgPSByZXEuYm9keS5wcmljZTtcbiAgbGV0IHN0b2NrQXZhaWxhYmlsaXR5ID0gcmVxLmJvZHkuc3RvY2tBdmFpbGFiaWxpdHk7XG4gIFxuICBsZXQgcXVlcnkgPSAnQ0FMTCBgYWRkb25lcHJvZHVjdGAoPywgPywgPywgPyknO1xuICBkYi5xdWVyeShxdWVyeSwgW2Rlc2NyaXB0aW9uLElELCBwcmljZSwgcHJvZHVjdFRpdGxlLHN0b2NrQXZhaWxhYmlsaXR5XSwgKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgICAgIGluc2VydDogZmFsc2UsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yXG4gICAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmpzb24oe1xuICAgICAgICAgICAgICBkYXRhOiBkYXRhWzBdLFxuICAgICAgICAgICAgICBpbnNlcnQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmV3IHByb2R1Y3Qgc3VjY2Vzc2Z1bGx5IGFkZGVkLlwiXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgfSlcbn0pXG5cbi8vcHJvZHVjdGJ5IGlkXG4vLyB0aGlzIGFwaSB3YXMgbm90IHRlc3RlZCBzbyBJIHRlc3RlZCBhbmQgY2hhbmdlZCByZXEucGFyYW1zLklEIHRvIHJlcS5wYXJhbXMuaWQuIFxuLy8gQnV0IHRoZW4gSSBub3RpY2VkIHRoYXQgdGhlcmUgaXMgYW5vdGhlciBhcGkgZm9yIHNlbGVjdGluZyBwcm9kdWN0cyBieSBpZCBzbyBJIGNvbW1lbnRlZCB0aGlzIHdob2xlIHRoaW5nIG91dC5cbi8vIHNlcnZlci5nZXQoJy9wcm9kdWN0LzppZCcsIChyZXEsIHJlcykgPT4ge1xuLy8gICBsZXQgSUQgPSByZXEucGFyYW1zLmlkO1xuLy8gICBsZXQgZ2V0YnlJRCA9IFwiQ0FMTCBgZ2V0UHJvZHVjdGJ5SURgKD8pXCI7XG4vLyAgIGRiLnF1ZXJ5KGdldGJ5SUQsIFtJRF0sIChlcnJvciwgZGF0YSkgPT4ge1xuLy8gICAgICAgaWYgKGVycm9yKSB7XG4vLyAgICAgICAgICAgcmVzLmpzb24oeyBJRDogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pXG4vLyAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgIGlmIChkYXRhWzBdLmxlbmd0aCA9PT0gMCkge1xuLy8gICAgICAgICAgICAgICByZXMuanNvbih7IElEOiBmYWxzZSwgbWVzc2FnZTogXCJObyBzdWNoIHByb2R1Y3QgSUQgZXhpc3RcIiB9KVxuLy8gICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAgIHJlcy5qc29uKHsgSUQ6IHRydWUsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBwcm9kdWN0RGF0YTogZGF0YVswXSB9KVxuLy8gICAgICAgICAgIH1cbi8vICAgICAgIH1cbi8vICAgfSlcbi8vIH0pXG5cbi8vZGVsZXRlIHByb2R1Y3RcbnNlcnZlci5kZWxldGUoJy9kZWxldGVwcm9kdWN0LzppZCcsIChyZXEsIHJlcykgPT4ge1xuICBsZXQgSUQgPSByZXEucGFyYW1zLmlkO1xuICBsZXQgZGVsZXRlSUQgPSBcIkNBTEwgYGRlbGV0ZWJ5SURgKD8pXCI7XG4gIGRiLnF1ZXJ5KGRlbGV0ZUlELCBbSURdLCAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJlcy5qc29uKHsgZGVsZXRlYnlJRDogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuanNvbih7IGRlbGV0ZWJ5SUQ6IHRydWUsIG1lc3NhZ2U6IFwiUHJvZHVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiIH0pO1xuICAgICAgfVxuICB9KVxufSlcblxuXG5cbnNlcnZlci5nZXQoJy9vbmxpbmVwcm9kdWN0cycgLCAocmVxLCByZXMpID0+e1xuICBsZXQgb25saW5lID0gXCJDQUxMIGBkaXBsYXlvbmxpbmVgKClcIjtcbiAgZGIucXVlcnkob25saW5lICwgKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXMuanNvbih7IElEOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSlcbiAgfSBcbiAgZWxzZSB7XG4gICAgIHJlcy5qc29uKGRhdGFbMF0pXG4gICAgIFxuICB9XG59KVxufSlcblxuIFxuXG5cblxuXG4gIHNlcnZlci5saXN0ZW4oNDYwMCwgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ1NlcnZlciBpcyBzdWNjZXNzZnVsbHkgcnVubmluZyBvbiBwb3J0IDQ2MDAnKTtcbiAgICBcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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","map":{"version":3,"names":["db","mysql","createConnection","host","port","user","password","database","server","use","express","json","connect","error","console","log","get","req","res","allproductSP","query","data","fields","ErrorMessage","ByID","productbyid","params","id","post","email","body","loginQuery","length","login","message","ID","put","description","price","productTitle","stockAvailability","product_image","display","edit","editeddisplay","insert","deleteID","deletebyID","online","listen"],"sourceRoot":"/Users/sachi/Desktop/term3_week8project_prachi/Server/","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport mysql from 'mysql';\nimport cors from 'cors';\n\n// connecting to the local host\n// const db = mysql.createConnection ({\n//   host: 'localhost',\n//   port: 3306,\n//   user:'root',\n//   password:'',\n//   database:'products'\n\n// });\n\n// connecting to the local host\nconst db = mysql.createConnection ({\n  host: 'localhost',\n  port: 8889,\n  user:'root',\n  password:'root',\n  database:'products'\n\n});\n\n\n\nconst server = express();\nserver.use(cors());\nserver.use(express.json());\n\ndb.connect(error =>{\n    if(error)\n    console.log('Sorry cannot connect to db :', error);\n    else\n    console.log('Connected to mysql db');\n  })\n  \n  // server.get('/productsapi',(req,res)=>{\n  \n    // Select from the product table\n    //stored procedures for allproducts\n  //   let allproductsSP = \"SELECT * FROM product\"\n  //   let query = db.query(allproductsSP,(error,data,fields) => {\n      \n  //     if(error){\n  //       res.json({ ErrorMessage:error })\n        \n  //     }\n  //     else{\n     \n  //     res.json(data);\n  //   }\n  \n  //   })\n  // })\n  \n  //display all products\n  server.get('/productssp', (req, res) => {\n    let allproductSP = \"CALL `All_products`()\";\n    // let  allproductsSP  = \"SELECT * FROM All_products\"\n    db.query(allproductSP, (error, data, fields) => {\n      if(error){\n        res.json({ ErrorMessage: error });\n        // console.log(error);\n      }\n      else{\n        res.json(data[0]);\n      }\n      \n    })\n  })\n\n  //productbyID\n  // This one was not tested so I did the testing and I changed a few things.\n\n// new version\n  server.get(\"/productssp/:id\", (req, res) => {\n    let ByID = \" CALL `getProductbyID`(?);\";\n    let productbyid = req.params.id;\n    db.query(ByID, [productbyid],(error, data)=>{\n        if (error) {\n            console.log(error);\n        } else {\n          res.json(data[0][0]);\n        }\n    });\n});\n\n//  old version\n//   server.get(\"/productssp/:id\", (req, res) => {\n//     let ByID = \"CALL `All_products`()\";\n//     let productbyid = req.params.id;\n//     db.query(ByID, (error, data) => {\n//         if (error) {\n//             console.log(error);\n//         } else {\n//             res.json(data[0].find(x => x.ID == productbyid));\n//         }\n//     });\n// });\n\n\n //admin all products\n  // server.get('/admin', (req, res) => {\n  //   let allproducts = \"CALL `Alladminproduct`()\";\n    \n  //   db.query( allproducts, (error, data, fields) => {\n  //     if(error){\n  //       res.json({ ErrorMessage: error });\n  //       // console.log(error);\n  //     }\n  //     else{\n  //       res.json(data[0]);\n  //     }\n      \n  //   })\n  // })\n\n \n  \n  // LOGIN\nserver.post('/login', (req, res) => {\n  let email = req.body.email;\n  let password = req.body.password;\n  let loginQuery =  \"CALL `login`(?,?)\";\n  db.query(loginQuery, [email, password], (error, data) => {\n    if(error){\n      res.json({ ErrorMessage: error});\n    }\n    else{\n      if(data[0].length === 0){\n        res.json({ data: data[0], login: false, message: \"Sorry, you have provided wrong credentials\"})\n      }\n      else{\n        res.json({ \n            ID: data[0].ID, \n            email: data[0].email,\n            data: data[0],\n            login: true, \n            message: \"Login successful\"});\n            // create the Auth Key\n      }\n\n      \n    }\n  })\n\n});\n\n\n// editproduct\n// You missed a few things here so I fixed it up \n\n// CALL `editproduct`(@p0, @p1, @p2, @p3, @p4, @p5)\n\nserver.put('/edit',(req, res)=>{\n// order in database: description, ID, price, productTitle, product_image, stockAvailability\n\nlet description = req.body.description;\nlet price = req.body.price;\nlet productTitle = req.body.productTitle;\nlet stockAvailability = req.body.stockAvailability\nlet ID = req.body.ID;\nlet product_image = req.body.product_image\nlet display = req.body.display\n\nlet query = \"CALL `editproduct`(?, ?, ?, ?, ?, ?,?)\"\n\ndb.query(query, [description, ID, price, productTitle, product_image, stockAvailability, display], (error, data, fields)=>{\n  if(error){\n    res.json({ErrorMessage:error});\n  }else{\n    res.json({\n      message:\"update successful!\",\n      edit:true,\n      data:data\n    })\n  }\n})\n})\n\n\n\n// old version \n// ------------------------------------------\n\n//1. there are only four question marks for calling stored procedures but in your sp, you created 6 parameteres. \n//2. be aware of the order of information. Your argument starts from description, ID, price, productTitle, product_image, stockAvailability. So when you connect valued from client side, you must pass those values in matching order with the database! \n\n// These are very important! be careful! \n// server.put('/editproduct', (req, res) => {\n//   let description = req.body.description;\n//   let ID = req.body.ID;\n//   let price = req.body.price;\n//   let productTitle = req.body.productTitle;\n//   let stockAvailability = req.body.stockAvailability;\n//   let query = \"CALL `editproduct`(?, ?, ?,?)\";\n//   db.query(query, [description,ID, price, productTitle,stockAvailability], (error, data) => {\n//     if(error){\n//       res.json({ edit: false, message: error });\n//     }\n//     else{\n//       res.json({ edit: true, message: \"Product successfully edited\"});\n//     }\n//   })\n// });\n\n//display edited product\nserver.put('/editeddisplay', (req, res) => {\n  let ID = req.body.ID;\n  let display = req.body.display;\n  let query = \"CALL `editeddisplay`(?,?)\";\n  db.query(query,[ID,display], (error, data) => {\n      if (error) {\n          res.json({ editeddisplay: false, message: error });\n      } else {\n          res.json({ data: data[0], editeddisplay: true, message: \"Edited product successfully displayed\" })\n      }\n  })\n})\n\n\n// Addnewproduct\n// testing didn't pass. I found some flaws in stored procedures and the code so I changed a bit for you :)\n// id is auto incremented and in the stored procedure, there is no parameter for id so,no need to provide id in query here.\n\nserver.post(\"/addnewproduct\", (req, res)=>{\n     \nlet description = req.body.description;\nlet price = req.body.price;\nlet productTitle = req.body.productTitle;\nlet stockAvailability = req.body.stockAvailability\n// let ID = req.body.ID;\nlet product_image = req.body.product_image\nlet display = req.body.display\n\nlet query =  \"CALL `addoneproduct`(?, ?, ?, ?, ?, ?)\";\ndb.query(query, [productTitle, product_image, description, price, stockAvailability, display], (error, data) => {\n  if (error) {\n      res.json({\n          insert: false,\n          message: error\n      })\n  } else {\n      res.json({\n          data: data[0],\n          insert: true,\n          message: \"New product successfully added.\"\n      })\n  }\n})\n\n})\n\n\n\n// ----------- old version\n\nserver.post(\"/addnewproduct\", (req, res) => {\n  let description = req.body.description;\n  let ID = req.body.ID;\n  let price = req.body.productTitle;\n  let productTitle = req.body.price;\n  let stockAvailability = req.body.stockAvailability;\n  \n  let query = 'CALL `addoneproduct`(?, ?, ?, ?)';\n  db.query(query, [description,ID, price, productTitle,stockAvailability], (error, data) => {\n      if (error) {\n          res.json({\n              insert: false,\n              message: error\n          })\n      } else {\n          res.json({\n              data: data[0],\n              insert: true,\n              message: \"New product successfully added.\"\n          })\n      }\n  })\n})\n\n//productby id\n// this api was not tested so I tested and changed req.params.ID to req.params.id. \n// But then I noticed that there is another api for selecting products by id so I commented this whole thing out.\n// server.get('/product/:id', (req, res) => {\n//   let ID = req.params.id;\n//   let getbyID = \"CALL `getProductbyID`(?)\";\n//   db.query(getbyID, [ID], (error, data) => {\n//       if (error) {\n//           res.json({ ID: false, message: error })\n//       } else {\n//           if (data[0].length === 0) {\n//               res.json({ ID: false, message: \"No such product ID exist\" })\n//           } else {\n//               res.json({ ID: true, message: \"success\", productData: data[0] })\n//           }\n//       }\n//   })\n// })\n\n//delete product\nserver.delete('/deleteproduct/:id', (req, res) => {\n  let ID = req.params.id;\n  let deleteID = \"CALL `deletebyID`(?)\";\n  db.query(deleteID, [ID], (error, data) => {\n      if (error) {\n          res.json({ deletebyID: false, message: error });\n      } else {\n          res.json({ deletebyID: true, message: \"Product deleted successfully\" });\n      }\n  })\n})\n\n\n\nserver.get('/onlineproducts' , (req, res) =>{\n  let online = \"CALL `diplayonline`()\";\n  db.query(online , (error, data) => {\n    if (error) {\n      res.json({ ID: false, message: error })\n  } \n  else {\n     res.json(data[0])\n     \n  }\n})\n})\n\n \n\n\n\n\n  server.listen(4600, function() {\n    console.log('Server is successfully running on port 4600');\n    \n})"],"mappings":"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"}},"mtime":1652742449513}}